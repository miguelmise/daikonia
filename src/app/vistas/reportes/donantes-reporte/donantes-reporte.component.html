<div class="container-fluid">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">REPORTES / KILOGRAMOS PRODUCTOS ENTREGADOS POR DONANTES</h1>
    </div>

    <div class="row">
        <form (ngSubmit)="onSubmit()" [formGroup]="registerForm">
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group mb-3">
                        <span class="input-group-text">Fecha desde</span>
                        <input type="date" class="form-control" formControlName="fecha_inicio"/>
                      </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group mb-3">
                        <span class="input-group-text">Fecha hasta</span>
                        <input type="date" class="form-control" formControlName="fecha_fin"/>
                      </div>
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-success btn-sm" [disabled]="registerForm.invalid"><mat-icon>search</mat-icon></button>
                </div>
            </div>
        </form>
    </div>

    <div class="row">
        <div class="col-md-12" id="contenedor"> 
            <canvas #chart id="DonantesChart"></canvas>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 mb-4" *ngIf="dataDonantes.length>0">
            <div class="card shadow mb-4">
                <div class="card-body">
                    <table mat-table [dataSource]="dataSource" matSort matSortActive="created" matTableExporter #exporter="matTableExporter">
                        <ng-container matColumnDef="donante">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Donante</th>
                            <td mat-cell *matCellDef="let element">{{element.orden_proveedor_nombre}}</td>
                          </ng-container>
                          
                          <ng-container matColumnDef="peso">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Peso(kg)</th>
                            <td mat-cell *matCellDef="let element">{{element.peso / 1000}}</td>
                          </ng-container>
                          <ng-container matColumnDef="precio">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Valor($)</th>
                            <td mat-cell *matCellDef="let element">{{element.precio}}</td>
                          </ng-container>
                          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                    <div class="table_footer">
                        <a id="download" class="pointer" (click)="exporter.exportTable('xlsx', {fileName:'Reporte Productos',sheet:'Reporte',Props:{Author:'Kairo System',Title:'Reporte'}})">Descargar Archivo</a>
                        <mat-paginator pageSize="10" showFirstLastButtons></mat-paginator>
                      </div>
                </div>
            </div>
        </div>
    </div>

</div>